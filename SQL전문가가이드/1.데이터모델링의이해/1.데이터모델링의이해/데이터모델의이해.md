# 데이터 모델의 이해

## 모델링의 이해

### 모델링의 정의

모델은 다양한 현상에 대해서 일정한 표기법에 따라 표현해 놓은 모형으로 어떤 목적을 달성하기 위해 커뮤니케이션 효율성을 극대화한 일종의 고급 표현방법이다.
모델링은 이런 모델을 만드는 행위를 뜻한다.

- 복잡한 현실세계를 단순화해 표현하는 것.
- 사물 또는 사건에 관한 양상과 관점을 연관된 사람이나 그룹을 위해 명확하게 하는 것
- 현실세계를 추상화한 것.

---

### 모델링의 특징

모델링은 추상화, 단순화, 명확화로 요약할 수 있다.

- 추상화 : 현실세계를 일정한 형식에 맞춰 표현하는 것. 다양한 현상을 일정한 표기법에 따라 표현하는 것.
- 단순화 : 복잡한 현실세계를 약속된 규약에 의한 제한된 표기법/언어로 표현하여 쉽게 이해할 수 있도록 하는 것.
- 명확화 : 누구나 이해하기 쉽게 대상의 애매모호함을 제거하고 정확하게 현상을 기술하는 것.

---

### 모델링의 세 가지 관점

모델링은 데이터 관점, 프로세스 관점, 데이터와 프로세스의 상관 관점으로 구분해 설명할 수 있다.

- 데이터 관점 : 업무가 어떤 데이터와 관련이 있는가? 데이터 간의 관계는 무엇인가?
- 프로세스 관점 : 실제하고 있는 업무는 무엇인가? 또는 무엇을 해야하는가?
- 데이터와 프로세스의 상관 관점 : 업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는가?

---

# 데이터 모델의 기본 개념 이해

## 데이터 모델링의 정의

데이터 모델은 데이터베이스의 골격을 이해하기위해 필요하다. 이를 바탕으로 SQL 문장을 기능과 성능적인 측면에서 효율적으로 작성할 수 있다.
데이터베이스의 논리적인 구조, 즉 데이터 모델을 이해하는 것은 SQL 문장을 어떻게 구성할지에 대한 핵심 이론이라 할 수 있다.

일반적으로 데이터 모델링은 다음과 같이 정의된다.

\- 정보시스템을 구축하기 위해 업무에 어떤 데이터가 존재하는지 또는 업무가 필요로 하는 정보는 무엇인지 분석하는 것.
\- 기업 업무에 대한 종합적인 이해를 바탕으로 데이터에 존재하는 업무 규칙에 대해 참/거짓을 판단할 수 있는 사실을 명확하게 표현하는 추상화 기법.

이를 실무적으로 해석하면, 업무에서 필요한 데이터를 시스템 구축 방법론에 따라 분석하고 설계하여 정보시스템을 구축하는 과정으로 정의할 수 있다.
업무정보를 구성하는 기초가 되는 정보를 일정한 표기법에 따라 표현함으로써 정보시스템 구축의 대상이 되는 업무 내용을 정확하게 분석한다. 다음으로 분석한 모델을 가지고 실제 데이터베이스를 생성하여 개발 및 데이터 관리에 사용한다.
즉, 데이터 모델링은 단지 데이터베이스를 구축하기 위한 용도로만 쓰는 것이 아니라, 업무를 설명하고 분석하는 용도로도 중요하게 활용될 수 있다.

---

## 데이터 모델이 제공하는 기능

업무 분석관점에서 데이터 모델은 다음과 같은 기능을 제공한다.

- 시스템을 현재 또는 원하는 모습으로 가시화한다.
- 시스템의 구조와 행동을 명세화 한다.
- 시스템을 구조화한 구축틀을 제공한다.
- 시스템 구축 과정에서 결정한 것을 문서화한다.
- 특정 목표에 따라 구체화한 상세 수준의 표현방법을 제공한다.

---

# 데이터 모델링의 중요성과 유의점

데이터 모델링의 중요성은 '파급효과', '복잡한 요구 사항에 대한 간결한 표현', '데이터품질 제고'에 있다.

## 파급효과

시스템 구축과정 중 데이터 모델의 변경이 불가피한 상황이 발생하면 이에 따른 표준 영향 분석, 응용 변경 영향 분석 등 많은 영향 분석이 일어난다
그 이후 실제적인 변경작업 또한 이뤄진다. 데이터 구조의 변경으로 인한 일련의 변경작업은 전체 시스템 구축 프로젝트에서 큰 위험요소가 된다.
이에 시스템 구축 작업 중 초기 데이터 설계는 매우 중요하다.

## 복잡한 요구 사항에 대한 간결한 표현

데이터 모델은 구축할 시스템 정보 요구 사항과 한계를 가장 명확하고 간결하게 표현할 수 있는 도구이다. 간결하게 그려진 데이터 모델을 리뷰하면서 정보 요구 사항을 파악할 수 있다.
시스템을 구축하는 많은 관련자가 설계자의 생각대로 정보 요구 사항을 운용할 어플리케이션을 개발하고 데이터 정합성을 유지하는데 '복잡한 요구 사항에 대한 간결한 표현' 은 매우 중요하다.

## 데이터 품질

데이터베이스에 담겨 있는 데이터는 기업의 중요한 자산이다. 데이터는 기간이 오래되면 될수록 활용가치가 훨씬 올라간다. 보유한 데이터를 전략적으로 활용하려는 시점에 데이터 품질 문제가 대두된다.
데이터 품질의 문제가 야기되는 중대한 이유 중 하나는 데이터 구조 때문이다. 중복의 데이터, 데이터 구조상 비즈니스 정의의 불충분, 동일한 성격의 데이터를 통합하지 않고 분리함으로써 나타나는 데이터의 불일치 등의 데이터 구조상의 문제는 데이터의 품질을 저해한다.

데이터 모델링 시 유의할 점은 다음과 같다.

### 중복

데이터 모델은 같은 데이터를 사용하는 사람, 시간, 장소를 파악하는 데 도움을 준다. 이를 통해 여러 장소에 같은 데이터를 저장하지 않도록 해야한다.

### 비유연성

사소한 업무 변화에도 데이터 모델이 수시로 변경되면 유지보수의 어려움을 가중시킬 수 있다.
데이터의 정의를 데이터의 사용 프로세스와 분리함으로써, 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 데이터베이스에 중대한 변화를 일으킬 가능성을 줄인다.

### 비일관성

데이터와 데이터 간 연관 관계에 대한 명확한 정의는 데이터 간의 모순을 사전에 예방할 수 있도록 해준다.

---

# 데이터 모델링의 3단계 진행

데이터 모델은 데이터베이스를 만들어내는 설계로서 분명한 목표를 갖는다.

[모델링3단계](./%08%EB%AA%A8%EB%8D%B8%EB%A7%813%EB%8B%A8%EA%B3%84.png)

## 개념적 데이터 모델링

조직, 사용자의 데이터 요구 사항을 찾고 분석하는 과정이다. 이를 통해 어떤 자료가 중요하고 어떤 자료가 유지되어야 하는지를 결정한다.
이 단계에서 중요한 활동은 핵심 엔터티와 그들 간의 관계를 발견하고, 관계를 표현하는 엔터티-관계 다이어그램을 생성하는 것이다. 엔터티-관계 다이어그램은 조직과 다양한 데이터베이스 사용자에게 어떤 데이터가 중요한지 나타내기 위해 사용된다.
개념 데이터 모델을 통해 조직의 데이터 요구를 공식화하는 것은 두 가지의 중요한 기능을 지원한다.

- 모델은 상위의 문제에 대한 구조화를 쉽게 하고, 사용자와 개발자가 시스템 기능에 대해 논의할 수 있는 기반을 제공한다.
- 현 시스템이 어떻게 변형되어야 하는가를 이해하는데 유용하다.

## 논리적 데이터 모델링

비즈니스 정보의 논리적인 구조와 규칙을 명확하게 표현하는 기법 또는 과정이라 할 수 있다. 논리 데이터 모델링의 결과로 얻게되는 논리 데이터 모델은 데이터 모델링의 완성본으로 물리적인 스키마가 설계되기 전 완성된 형태의 모델이다.
논리적 모델링의 핵심은 데이터에 엑세스하는 방법, 주체, 업무 데이터에 존재하는 사실들을 인식하여 기록하는 것이다.
이 단계에서 수행하는 또 한 가지 중요한 활동은 정규화이다. 정규화는 논리 데이터 모델 상세화 과정의 대표적인 활동으로 논리 데이터 모델의 일관성을 확보하고 중복을 제거하여 속성들이 가장 적절한 엔터티에 배치되도록 한다.
상세화 과정에는 식별자 확정, 정규화, M:M 관계 해소, 참조 무결성 규칙 정의 등을 들 수 있다. 또한 이력 관리에 대한 전략을 정의하여 이를 논리 데이터 모델에 반영함으로써 데이터 모델링을 완료한다.

## 물리적 데이터 모델링

논리 데이터 모델이 데이터 저장소로서 어떻게 컴퓨터 하드웨어에 표현될 것인가를 다룬다. 데이터가 물리적으로 컴퓨터에 어덯게 저장될 것인가에 대한 정의를 물리적 스키마라고 한다. 이 단계에서 결정되는 것은 테이블, 칼럼 등으로 표현되는 물리적인 저장 구조와 사용될 저장장치, 추출을 위한 접근 방법 등이 있다. 계층적 데이터베이스 관리 시스템 환경에서는 데이터 베이스 관리자가 물리적 스키마를 설계하고 구현하는데 시간을 들인다.

---

# 프로젝트 생명주기에서 데이터 모델링

Waterfall 기반 프로제트에서는 데이터 모델링의 위치가 분석과 설계 단계로 구분하여 정의된다. 분석 단계에서는 업무 중심의 논리적인 데이터 모델링을 수행하고, 설계 단계에서는 하드웨어와 성능을 고려한 물리적 데이터 모델링을 수행하게 된다.
나선형 모델 기반 프로젝트 에서는 업무 크기에 따라 논리적인 데이터 모델링과 물리적 데이터 모델링이 분석, 설계 단계 양쪽에서 수행되며, 일반적으로 분석 단계에서 논리적인 데이터 모델링이 더 많이 수행된다.

[프로젝트라이프사이클에따른 데이터 모델링](./%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4%EC%97%90%EB%94%B0%EB%A5%B8%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%AA%A8%EB%8D%B8%EB%A7%81.png)

일반적으로 계획 또는 분석 단계에서 개념적 데이터 모델링, 분석 단계에서 논리적 데이터 모델링, 설계 단계에서 물리적 데이터 모델링이 수행된다. 실무에서는 개념적 데이터 모델링이 생략되고 논리적 데이터 모델링이 분석 단계 때 수행된다.

---

# 데이터 모델링에서 데이터 독립성의 이해

## 데이터 독립성

기능화한 구성의 가장 큰 목적은 상호간의 영향도를 줄이고 개발 형식이 가지는 고유의 기능을 극대화하기 위함이다.
컴포넌트 기반의 모듈 구성도 각각이 고유한 기능을 가지면서 다른 컴포넌트와 인터페이스하는 모습으로 정의할 수 있다. SOA(서비스 지향 아키텍쳐)의 Service 단위 또한 독립적인 비즈니스로 처리 가능한 단위를 정의한 것이다.

서비스는 다른 서비스로 부터 독립되어있지만 결합하여 프로세스로 제공하더라도 의미가 있는 단위가 된다. 특정 단위에 독립적인 의미를 부여하고 구현하면, 그것이 가지는 고유한 특징을 명확하게 할 뿐 아니라, 다른 기능의 변경으로부터 영향을 받지 않고 자신이 가진 고유의 기능을 제공할 수 있는 장점을 갖게 된다.

데이터 독립성의 반대되는 개념은 데이터 종속성이다. 종속의 주체는 보통 어플리케이션(Application) 이다. 어플리케이션은 사용자의 요구사항을 처리하는 인터페이스 오브젝트이다. 과거 파일 방식으로 데이터를 구성할 때는 데이터가 있는 파일과 데이터에 접근하기 위한 인데스를 별도로 구현하여 접근하게 했다. 사용자가 접근하는 방법에 따라 파일의 정렬순서, 인덱스의 정렬순서, 파일 구성등을 제공하기 쉽게 별도로 구성했다. 즉 사용자가 저븐하는 유형에 따라 데이터를 구성하는 방법이 영향을 받게 된다.

데이터 독립성에는 지속적으로 증가하는 유지보수 비용을 절감하고 데이터 복잡도를 낮추며 중복된 데이터를 줄이기 위한 목적이 있다. 또한 끊임없이 나온느 사용자 요구 사항에 대해 화면과 데이터베이스 간에 서로 독립성을 유지하기 위한 목적으로 데이터 독립성 개념이 출현했다.

데이터 독립성을 확보하면 다음과 같은 효과를 얻을 수 있다

\- 각 View의 독립성을 유지하고 계층별 뷰에 영향을 주지 않고 변경할 수 있다.

\- 단계별 스키마에 따라 데이터 정의어와 조작어를 다르게 제공할 수 있다.

## 데이터베이스 3단계 구조

ANSI/SPAR의 데이터 독립성 모델은 외부 단계와 개념적 단계, 내부적 단계로 구성된 서로 간섭되지않은 모델을 제시하고 있다.

[데이터독립성](./%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8F%85%EB%A6%BD%EC%84%B1.jpeg)

## 데이터 독립성 요소

외부 단계는 사용자와 가까운 단계로, 사용자 개개인이 보는 자료에 대한 관점과 관련이 있다. 사용자가 처리하고자 하는 데이터 유형, 관점, 방법에 따라 다른 스키마 구조를 가지고 있다.

\- 개별 사용자가 보는 개인적 DB 스키마

개념 단계는 사용자가 처리하는 데이터 유형의 공통적인 사항을 처리하는 통합된 뷰를 스키마 구조로 디자인한다. 데이터 모델은 사용자가 처리하는 통합된 뷰를 설계하는 도구로 이해할 수 있다.

\- 모든 사용자 관점을 통합한 조직 전체의 DB를 기술하는 스키마
\- 모든 응용 시스템이나 사용자들이 필요로하는 데이터를 통합한 전체 DB를 기술한 스키마
\- DB에 저장되는 데이터와 그들간의 관계를 표현하는 스키마

내부적 단계는 데이터가 물리적으로 저장된 방법에 대한 스키마 구조를 말한다.

\- 내부 단계와 내부 스키마로 구성된 DB가 물리적으로 저장된 형식
\- 물리적 장치에서 데이터가 실제적으로 저장되는 방법을 표현하는 스키마.

## 두개의 데이터 독립성

논리적 독립성

\- 개념 스키마가 변경되어도 외부 스키마에는 영향을 미치치 않도록 하는 것.
\- 논리적 구조가 변경되어도 응용 프로그램에 영향을 주지 않음.

물리적 독립성

\- 내부 스키마가 변경되어도 외부, 개념 스키마는 영향을 받지 않도록 지원하는 것.
\- 저장장치의 구조변경은 응용 프로그램과 개념 스키마에 영향을 주지않음.

## Mapping(사상)

데이터 독립성에서는 크게 두 가지의 매핑이 도출된다.

외부적-개념적 매핑 (논리적 사상)

- 외부적 뷰와 개념적 뷰이 상호 관련성을 정의한다.

개념적-내부적 매핑 (물리적 사상)

- 개념적 뷰와 저장된 데이터베이스의 상호 관련성을 정의한다.

외부 화면이나 사용자에게 인터페이스하기 위한 스키마 구조는 전체가 통합된 개념적 스키마와 연결된다는 것이 논리적 사상이다.
통합된 개념적 스키마 구조와 물리적으로 저장된 구조의 물리적인 테이블 스페이스와 연결되는 구조가 물리적 사상이다.

데이터 독립성을 보장하기 위해서는 Mapping Script(DDL)을 DBA가 필요할 때마다 변경해 주어야 한다. 즉 각 단계의 독립성을 보장하기 위해서 변경 사항이 발생했을 때, DBA가 적절하게 작업을 해줘야 독립성을 보장할 수 있다.

---

# 데이터 모델링의 중요한 세 가지 개념

## 데이터 모델링의 세 가지 요소

1. Things(업무에 관여하느 것)
2. Attribute(그것의 성격)
3. Relationship(그것의 관계)

모든 유형의 정보를 세가지 관점의 접근 방법을 통해 모델로 만드는 것이 데이터 모델링이다.

## 단수와 집합의 명명

Thing(어떤 것)

- 복수 : 엔터티
- 단수 : 인스턴스, 어커런스

Assocication between Thing

- 복수 : 관계
- 단수 : 패어링

Characteristic of a Thing

- 복수 : 속성
- 단수 : 속성값

---

# 데이터 모델링의 이해관계자

## 이해관계자의 데이터 모델링 중요성 인식

데이터 모델링은 단지 데이터베이스를 설계한다는 측면보다 업무를 이해하고 분석하여 표현하고 표현된 내용을 바탕으로 프로젝트 관련자와 의사소통하는 과정이다.
이처럼 응용 시스템을 개발하는 모든 시스템 엔지니어가 데이터 모델을 하거나 할 기회가 있음에도 데이터 모델에 많은 관심을 갖지 않는다. 하지만 정보시스템을 개발할 때 데이터 모델링, 데이터베이스 구축, 구촉된 데이터의 활용은 다른 어떤 타스크보다 중요하다.
정보 시스템은 데이터베이스가 핵심이기때문에 데이터베이스의 설계상의 문제가 미치는 영향력은 모든 프로그램과 새로운 데이터, 트랜잭션에 영향을 미친다.

## 데이터 모델링의 이해관계자

정보시스템을 구축하는 모든 사람은 데이터 모델링을 전문적으로 할 수 있거나 완성된 모델을 정확하게 해석할 수 있어야한다.
정보화를 추진하는 위치에 있는 사람도 데이터 모델링에 대한 개념 및 세부 사항에 대해 어느 정도 지식을 가지고 있어야한다.

---

# 데이터 모델의 표기법인 ERD 이해

## 데이터 모델 표기법

E-R 모델은 엔터티를 사각형으로, 관계를 마름모, 속성을 타원형으로 표현한다.

## ERD 표기법으로 모델링하는 방법

ERD는 각 업무 분석에서 도출된 엔터티와 엔터티간의 관계를 이해하기 쉽게 도식화된 다이어그램으로 표시하는 방법이다. 업무에서 데이터의 흐름과 프로세스와의 연관성을 이야기하는 데 가장 중요한 표기법이자 산출물로 받아들여진다.
데이터 분석이 어느 정도 완료되면, 엔터티, 관계, 속성 등이 데이터 사전이나 각종 산출물에 의해 분석된 상태에서 ERD를 그리는 것이 이론적인 방법이다. 실제 프로젝트에서는 분석된 엔터티와 관계 속성 정보가 바로 ERD에 표현되어 핵심 업무 산출물로 항상 이용된다.

## ERD를 작성하는 작업순서

1. 엔터티를 그린다.

2. 엔터티를 적절하게 배치한다.

\- 일반적인 데이터 모델링에서는 가장 중요한 엔터티를 왼쪽 상단에 배치하고, 이것을 중심으로 다른 엔터티를 나열하면서 읽는 사람의 눈이 따라가기에 편한 데이터 모델링을 할 수 있다.

3. 엔터티 간 관계를 설정한다.

\- 엔터티의 배치가 완료되면 정의한 분석서를 보고 서로 관련 있는 엔터티 간의 관계를 설정한다.
\- 초기에는 모두 Primary Key로 속성이 상속되는 식별자 관계를 설정한다. 중복되는 관계가 발생되지 않도록 하고, Circle 관계도 발생하지 않도록 유의한다.

4. 관계명을 기술한다.

\- 관계 설정이 완료되면 연결된 관계에 관계 이름을 부여한다. 관계 이름은 현재형을 사용하고 지나치게 포괄적인 용어는 사용하지 않는다.

5. 관계의 참여도를 기술한다.

\- 관계에 대한 이름을 모두 지정하였으면 관계가 참여하는 성격 중 엔터티 내에 인스턴스들이 얼마나 관계에 참여하는지를 나타내는 관계차수를 표현한다.
\- 1:1 관계는 실선 혹은 점선과 실선의 혼납으로 표기하고 1:Many 관계는 까마귀 발과 같은 모양으로 그려준다.

6. 관계의 필수여부를 기술한다.

\- 관계의 필수, 선택 표시는 관계선에 원을 표현하여 ERD를 그리도록 한다.

---

# 좋은 데이터 모델의 요소

## 완전성

업무에서 필요로 하는 모든 데이터가 데이터 모델에 정의되어 있어야 한다.

## 중복 배제

하나의 데이터베이스 내에 동일한 사실은 반드시 한 번만 기록해야 한다. 나이 컬럼과 생년월일 컬럼이 동시에 존재하면, 이것은 데이터 중복이다.
데이터 중복은 여러가지 관리 비용 발생의 원인이 된다.

## 업무 규칙

데이터 모델링 과정에서 도출되고 규명되는 수많은 업무 규칙을 데이터 모델에 표현하고 모든 사용자에게 제공하는 것이 중요하다.
특히 논리적 데이터 모델에서 이러한 업무 규칙이 포함되어야한다.

## 데이터 재사용

데이터의 재사용성을 향상시키기 위해 데이터 통합성과 독립성에 대해 충분히 고려해야 한다. 데이터 모델이 통합 모델이어야만 데이터 재사용성을 높일 수 있다.
또한 데이터가 애플리케이션에 대해 독립적으로 설계되어야만 데이터 재 사용성을 높일 수 있다.
비즈니스 변화에 대응하기위해 데이터 구조에 많은 변화를 줘야한다면 변화의 대상이 되는 부분뿐만 아니라 정보시스템의 나머지 부분들도 많은 영향을 받게 된다. 이에 데이터 구조의 확장성과 유연성이 중요하다.
정보시스템에서 행위의 주체가 되는 집합의 통합, 행위의 대상이 되는 집합의 통합, 행위 자체에 대한 통합은 전체 정비시스템의 안정성과 확장성을 좌우하는 중요한 요소이다.

## 의사소통

데이터 모델은 의사소통의 도구 역할을한다. 데이터 모델은 대상 업무를 데이터 관점으로 분석하고 설계하여 나오는 최종 산출물이다. 데이터 분석 과정에서 많은 업무 규칙들이 도출된다.
업무 규칙은 데이터 모델의 엔터티, 서브타입, 속성, 관계 등의 형태로 최대한 자세하게 표현되어야 한다.
데이터 모델은 시스템을 운용, 관리하는 많은 관련자들이 설계자가 정의한 많은 업무 규칙들을 동일한 의미로 받아들이고 활용할 수 있게 하는 역할을 한다.

## 통합성

바람직한 데이터 구조의 형태는 동일한 데이터는 조지 전체에 한 번만 정의되고 이를 여러 다른 영역에서 참조 및 활용하는 것이다.
동일한 성격의 데이터를 한 번만 정의하기 위해서는 공유 데이터에 대한 구조를 여러 업무 영역에서 공동으로 사용하기 용이하게 설계할 수 있어야한다.

데이터 모델링 기본개념정리 - 데이터모델링의 개념 / 중요성 / 유의점 / 구성단계 / 생명주기
