1장. 데이터 모델링의 이해 - 2절. 엔터티

# 엔터티의 개념

엔터티란 '업무에 필요한 정보를 저장하고 관리하기 위한 집합적인 것'으로 설명할 수 있다.

엔터티는 업무 활동상 지속적인 관심의 대상으로 동질성을 가진 인스턴스나 인스턴스가 행하는 행위의 집합으로 정의할 수 있다.

엔터티는 엔터티에 속하는 개체들의 특성을 설명할 수 있는 속성(attribute)를 갖는다. 속성 가운데 일부는 모든 개체가 공유할 수 있는 공통 속성과 일부 개체만 가지고 있는 개별 속성도 있을 수 있다.

엔터티는 인스턴스의 집합이고 인스턴스는 엔터티의 하나의 값에 해당한다. 눈에 보이지 않는 추상적인 개념 또한 엔터티가 될 수 있다.

---

# 엔터티와 인스턴스에 대한 내용과 표기법

ERD 상에서 엔터티는 대부분 사갹형으로 표현된다. 엔터티의 속성을 표현하는 방법은 조금씩 다르다.

- 객체 모델링에서 클래스와 오브젝트의 관계는 정보공학의 엔터티와 인스턴스의 관계와 같다.
- 엔터티는 인스턴스의 집합으로 표현된다.

---

# 엔터티의 특징

엔터티는 다음과 같은 특징을 가지고 있다. 엔터티가 다음의 성질을 만족하지 못하면 적절하지 않은 엔터티일 확률이 높다.

## 업무에서 필요로 하는 정보

엔터티를 도출하기 위해선 업무 영역에서 관리할 필요가 있는지를 먼저 판단하는 것이 중요하다.

## 식별 가능

엔터티를 도출하는 경우 각각의 업무적인 의미를 갖는 인스턴스가 식별자에 의해 유일한지 검증해야한다.
식별자는 엔터티의 인스턴스의 고유한 이름이다. 두 개 이상의 인스턴스가 같은 식별자 값을 가지면 그 식별자는 잘못 설계된 것이다.

## 인스턴스 집합

엔터티가 두 개 이상의 인스턴스의 집합이라는 개념은 매우 중요하다. 하나의 엔터티는 여러 개의 인스턴스를 포함한다.

## 업무 프로세스에 의해 이용

업무에 반드시 필요하다고 여겨 엔터티로 선정했는데 실제 업무 프로세스가 전혀 이용하지 않는다면 엔터티 도출이 적절하게 이루어지지 않음을 의미한다.
이 경우는 데이터 모델링을 할 때 미처 발견하지 못하다가 프로세스 모델링을 할때 데이터 모델과 검증을 하거나, 상관 모델링을 할때 엔터티와 단위 프로세스를 교차 점검하면 문제점이 도출된다.

## 속성 포함

속성을 포함하지 않고 엔터티의 이름만 갖고 있는 경우나 주식별자만 존재하고 일반 속성은 전혀 없는 경우 적절한 엔터티라고 불 수 없다.
단, 예외적으로 관계 엔터티는 주식별자 속성만 가지고 있어도 엔터티로 인정한다.

## 관계의 존재

엔터티는 최소 한 개 이상의 관계를 가져야 한다. 엔터티로 도출되었다는것은 해당 업무 내에서 업무적인 연관성을 가지고, 다른 엔터티와의 연관되어있음을 의미한다.
예외적으로 관계를 생략해 표현하는 경우가 있는데 통계성 엔터티 도출, 코드성 엔터티 도출, 시스템 처리시 내부 필요에 의한 엔터티 도출이 이에 해당한다.

- 통계를 위한 엔터티는 업무 진행 엔터티로부터 통계 업무만을 위해 별도로 엔터티를 다시 정의하게 되므로 엔터티 간 관계가 생략되는 경우에 해당한다.
- 코드를 위한 엔터티는 너무 많은 엔터티와 관계를 맷어 성능저하를 유발하기때문에 관계설정을 생략한다.
- 시스템 처러 시 내부 필요에 의한 엔터티는 업무적인 필요가 아닌 시스템 내부적인 필요에 따라 생성된 엔터티이므로 관계를 생략한다.

---

# 엔터티의 분류

엔터티는 성격, 업무를 구성하는 모습, 발생 시점에 따라 분류할 수 있다.

## 유무형에 따른 분류

엔터티는 따라 유형엔터티, 개념엔터티, 사건엔터티로 구분된다.

- 유형엔터티는 물리적인 형태가 있고 지속적으로 활용되는 엔터티이다.

- 개념엔터티는 물리적인 형태는 존재하지 않지만 관리해야 할 개념적 정보로 구분되는 엔터티이다.

- 사건엔터티는 업무를 수행함에 따라 발생하는 엔터티로 비교적 발생량이 많고 통계자료에 이용될 수 있다.

## 발생시점에 따른 분류

- 기본엔터티

업무에 원래 존재하는 정보로 독립적으로 생성이 가능하고 다른 엔터티의 부모 역할을 한다. 다른 엔터티로 부터 주식별자를 상속받지 않고 자신의 고유한 주식별자를 가진다.

- 중심엔터티

기본엔터티로부터 발생되고 업무에서 중심적인 역할을 한다. 다른 엔터티와의 관계를 통해 행위엔터티를 생성한다. 계약, 사고, 예금원장, 청구, 주문, 매출 등이 속한다.

- 행위엔터티

두 개 이상의 부모엔터티로부터 발생하고 자주 내용이 바뀌거나 데이터 양이 증가한다. 상세 설계 단계나 프로세스와 상관 모델링을 진행하면서 도출할 수 있다. 주문목록, 사원변경이력 등이 속한다.

---

# 엔터티의 명명

- 현업에서 사용하는 용어를 사용한다
- 가능하면 약어를 사용하지 않는다
- 단수 명사를 사용한다
- 유일한 이름이 부여되야한다.
- 엔터티 생성 의미대로 이름을 부여한다.
