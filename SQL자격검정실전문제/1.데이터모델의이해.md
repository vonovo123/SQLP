1. 데이터 모델링의 특징

- 현실세계를 일정한 형식에 맞추어 표현하는 추상화
- ~~시스템 구현만을 위해 진행하는 데이터베이스 구축을 위한 사전작업~~
- 복잡한 현실을 특정언어와 표기법을 통해 단순화
- 누구나 이해 가능하도록 현상을 기술하는 정확화

모델링은 단지 시스템 구현만을 위한 타스크가 아니라 시스템 구현을 포함한 업무분석 및 형상화 목적도 있음

2. 데이터 모델링이 필요한 이유

- 일정한 표기법을 통해 업무정보를 구성하는 기초정보에 대한 표현하기 위해
- 분석된 모델을 통해 DB를 생성하고 이를 개발 및 관리하기 위해
- ~~데이터베이스 구축을 위한 용도를 위해 데티어모델링을 수행하고 업무에 대한 설명은 별도의 표기법을이용~~
- 업무의 흐름을 설명하고 분석하기 위해

데이터모델링은 단지 DB구축을 하기 위한 용도 뿐아니라 업무를 설명하고 분석하는 용도로도 쓰인다.

3. 4. 데이터모델링 시 유의점

- 같은 장소에 같은 정보를 저장하지 않도록 중복 최소화(중복성)
- 데이터 정의를 데이터 사용프로세스와 분리하여 유연성을 높인다.(비유연성)
- ~~사용자가 처리하는 프로세스나 장표 등에 따라 메핑될 수 있도록 프로그램과 테이블간의 연계성을 높인다.~~
- 데이터간의 상호 연관관계를 명확하게 정의하여 데이터를 일관성있게 유지한다.(비일관성)

데이터모델링 시 유의할 사항은 중복성, 비유연성, 비일관성이다.

사용자가 처리하는 프로세스 혹은 이와 관련된 프로그램과 테이블의 연계성을 높이면 데이터 모델이 요건변경에 취약해진다.
즉, 사소한 요건변경에도 데이터 모델의 구조가 변경되야할 수도 있다.

5. 데이터모델링의 개념

데이터모델링은 크게 3가지로 구분할 수 있다.

전사적 데이터 모델링을 수행할때, 추상화 수준이 높고 업무중심이고 포괄적인 수준의 모델링을 개념적 모델링이라고 하고

실제 데이터베이스에 이식할 수 있도록 성능, 저장 등의 물리적 성능을 고려한 데이터 모델링은 물리적 모델링이라고 한다.

시스템으로 구축하고자 하는 업무에 대해 관계, 키, 속성등을 정확하게 표현하는 것을 논리적 모델링이라고 한다.

6. 데이터베이스 스키마 구조 3단계

데이터베이스의 스키마 구조는 3단계로 구분된다.

- 외부스키마

외부스키마는 데이터베이스를 보는 관점을 정의하는 계층이다.

특정 사용자 그룹이나 프로그램이 필요로하는 데이터만을 표시한다.

- 개념스키마

통합관점의 스키마구조로 모든 응용시스템과 사용자가 필요로 하는 데이터를 통합한 DB를 기술한 것으로 거기에 저장되는 데이터와 그들간의 관계를 표현한다.

테이블, 뷰, 제약조건 등 논리적 구조와 데이터 간의 관계를 정의한다.

부안 및 무결성 제약 조건을 포함한다.

- 내부스키마

내부스키마는 데이터가 실제로 저장되는 방식을 정의한 것으로 물리적 데이터 저장 방법, 인덱스 구조, 파일 구성 방식등을 정의하는 계층이다.

성능 최적화를 위한 저장방식이 내부스키마를 통해 결정된다.

7. ERD 관계

부모엔터티가 자식엔터티와 필수 관계가 아니라면 자식 엔터티에 해당값이 존재하는지에 상관없이 입력될 수 있다.

8. ERD에 대한 설명

- 1976년 피터첸에의해 만들어졌다.
- 일반적인 ERD 작성순서는 엔터티 도출 - 배치 - 관계 설정 - 관계명 설정 순이다.
- 관계 명칭은 관계표현에 있어 매우 중요한 부분이다.
- ~~가장 중요한 엔터티를 오른쪽 상단에 배치하고 추가 발생되는 엔터티를 왼쪽과 하단에 배치하는 것이 원칙이다.~~

엔터티 배치 위치는 필수사항은 아니지만 가독성면에서 중요엔터티는 왼쪽부터 기술하는 것이 좋다.

9. 10. 11. 엔터티의 특징

- 엔터티는 반드시 속성을 가져야한다
- 통계성, 코드성 엔터티를 제외한 일반적인 엔터티는 반드시 다른엔터티와 관계가 있다.
- ~~엔터티는 한 개의 인스턴스를 가지는 것만으로도 충분히 의미가 있다.~~

  엔터티는 2개 이상의 속성과 2개 이상의 인스턴스를 가져야 한다.

  영속적으로 존재하는 두 개이상의 인스턴스의 집합이어야한다.

- 데이터로서 존재하지만 업무로 필요하지 않는다면 해당 엔터티는 존재할 수 없다.

엔터티는 반드시 해당 업무에서 필요하고 관리하고자하는 정보여야한다. 유일한 식별자에 의해 식별이 가능해야한다.

12. 기본엔터티의 특징

그 업무에 원래 존재하는 정보로 독립적으로 생성할 수 있고 다른 엔터티의 부모 역할을 한다.

다른 엔터티로부터 주식별자를 상속받지 않고 고유한 주식별자가 있다.

13. 엔터티 이름을 부여하는 방법

- 현업업무에서 사용하는 용어를 사용한다.
- 가능하면 약어를 사용하지 않는다.
- 단수명사를 사용한다.
- 이름은 유일해야한다.
- 엔터티 생성의미대로 이름을 부여한다.

14. 15. 속성

업무에서 필요로 하는 인스턴스에서 관리하고자 하는 의미상 더 이상 분리되지 않는 최소의 데이터 단위.

엔터티에 대한 자세하고 구체적인 정보를 포함한다.

- 한 개의 엔터티는 두 개 이상의 인스턴스의 집합이어야 한다.

- 한 개의 엔터티는 두 개 이상의 속성을 갖는다.

- 한 개 속성은 한 개의 속성값을 갖는다.

16. 17. 속성의 특성에 따른 분류

- 기본속성 : 엔터티가 원래 가지고 있어야 하는 속성
- 설계속성 : 실제 업무에서 필요하지는 않지만 효율적인 설계를 위해 추가하는 속성
- 파생속성 : 데이터를 조회할때 빠른 성능을 할 수 있도록 원래의 속성값을 계산하여 저장할 수 있도록 만든 속성

18. 도메인

각 속성은 가질 수 있는 값의 범위

도메인을 통해 엔터니 내에서 속성에 대한 데이터 타입과 크기 그리고 제약사항을 지정한다.

19. 속성 명칭 부여방법

- 해당업무에서 사용하는 이름을 부여

- 서술식 속성명은 사용하지 않는다.

- 약어사용은 가급적 제한

- 전체 데이터모델에서 유일성 확보

20. 데이터모델링의 관계와 UML 관계의 비교

- 관계는 존재에 의한 관계와 행위에 의한 관계로 구분된다. ERD에서는 관계를 연결할 때, 존재와 행위를 구분하지 않고 단일화된 표기법 사용.

- UML에서는 클레스다이어그램의 관계 중 연관관계와 의존관계가 있고 이는 실선과 점선으로 다르게 표시한다.

- 데이터모델링에서는 존재적 관계와 행위에 의한 관계를 구분하는 표기법은 없다.

21. 관계

관계 표기법은 관계명, 관계차수, 선택사양의 3가지 개념으로 표현한다.

관계는 존재적 관계와 행위에 의한 관계로 구분된다.

존재적 관계의 예는 부서와 사원 엔터티간의 '소속' 관계, 행위에 의한 관계의 예시는 주문과 배송엔터티 간의 배송근거가 있다.

22. 엔터티 관계의 기수성을 나타내는법

관계의 기수는 관계차수를 이용해 나타낸다.

관계차수의 종류에는 1:1, 1:M, M:N 이 있다.

23. 엔터티 관계 확인법

- 엔터티간 연관규칙이 있는지 확인.
- 엔터티간 정보의 조합이 발생하는지 확인.
- 업무기술서나 장표에 엔터티간 관계를 가능캐하는 동사가 있는지 확인.
- 업무기술서나 장표에 엔터티간 관계에 대한 규칙이 서술돼 있는지 확인.

24. 관계읽기

- 기준 엔터티를 한개 또는 각으로 읽는다.
- 대상엔터티의 관계참여도를 읽는다 (하나, 하나이상)
- 관계선택사양과 관계명을 읽는다. (필수, 선택)

25. 주식별자 지정법

- 주식별자에 의해 엔터티 내의 모든 인스턴스가 유일하게 식별되야한다.
- 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되야한다.
- 주식별자의 값은 자주 변하지 않는 것이어야 한다.
- 주식별자는 반드시 값이 존재해야한다.

26. 식별자의 구분

- 엔터티 내에서 대표성을 가지면 주식별자, 아니면 보조식별자로 구분한다.
- 상위 엔터티로 부터 상속받은 식별자는 외부식별자, 스스로 생성된 식별자는 내부식별자라고 한다.
- 단일 속성인지 여부에 따라 단일 식별자와 복합식별자로 구분한다.
- 업무적으로 의미있던 본질 식별자 속성을 대체하여 일련번호 같이 새롭게 만든 식별자를 인조식별자라고한다.

27. 28. 주식별자의 특징

- 유일성 : 주식별자에 의해 엔터티내에 모든 인스턴스가 구분되야함
- 최소성 : 유일성을 만족하는 최소 속성수로 구성되야함
- 불변성 : 주식별자의 값은 변하지 않아야함
- 존재성 : 주식별자가 지정되면 반드시 값이 존재해야함

29. 식별자관계와 비식별자관계

- 관계의 강약을 분석해 상호 연관성이 약한 경우 비식별자관계를 고려한다.
- 자식테이블에서 독립적인 Primary key의 구조를 가지기 원할 때 비식별자관계를 고려한다.
- 모든 관계가 식별자 관계라면 where 절에서 비교하는 항목이 증가되 조인문이 길어지므로 비식별관계를 고려한다.
- ~~부모엔터티의 주식별자를 하위 엔터티로 계속 흘려보내기위해 비식별자 관계를 고려한다.~~

식별자를 하위 엔터티로 계속 상속하기위해서는 식별관계를 고려해야한다.

비식별자관계의 선택이 단순히 SQL 문장의 복잡도를 낮추는 목적으로 고려되는 것은 바람직하지않다.

식별자 관계는 강한 연결관계 표현을 목적으로한다.

자식 주식별자의 구성에 포함되 영향을 주며 표기법에서 주로 실선으로 표현된다.

식별자 관계를 고려하기 위해서는 다음과 같은 상황을 만족해야한다.

자식 엔터티가 부모엔터티에 종속된 경우

자식 주식별자구성에 부모 주식별자가 포함되야하는 경우

상속받은 주식별자속성을 타 엔터티에 이전해야하는 경우

반대로 비식별관계는 약한 연결관계를 표현한다.

부모의 주식별자가 자식의 일반 속성에 포함된다.

표기법 상으로 주로 점섬으로 표기된다.

생애주기를 같이한다.

비식별관계를 고려하기 위해서는 다음과 같은 상황을 만족해야한다.

자식 주식별자구성에 부모 주식별자가 부분적으로 필요한 경우

상속받은 주식별자속성을 타엔터티에서 차단해야하는 경우

부모쪽의 관계참여가 선택관계여야하는 경우

여러 개의 엔터티를 하나로 통합하면서 각각의 엔터티가 갖고 있던 여러 개의 개별관계가 통합되는 경우

자식쪽 엔터티의 주식별자를 부모엔터티와는 별도로 생성하는 것이 유리한 경우
